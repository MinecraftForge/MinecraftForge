--- ../src_base/common/net/minecraft/src/Packet51MapChunk.java
+++ ../src_work/common/net/minecraft/src/Packet51MapChunk.java
@@ -100,6 +100,13 @@
 
         var3 = 12288 * var2;
 
+        int msb = 0; //BugFix: MC does not read the MSB array from the packet properly, causing issues for servers that use blocks > 256
+        for (var3 = 0; var3 < 16; ++var3)
+        {
+            msb += this.yChMax >> var3 & 1;
+        }
+        var3 += (2048 * msb);
+
         if (this.includeInitialize)
         {
             var3 += 256;
