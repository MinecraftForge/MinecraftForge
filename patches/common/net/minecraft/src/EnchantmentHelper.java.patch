--- ../src_base/common/net/minecraft/src/EnchantmentHelper.java
+++ ../src_work/common/net/minecraft/src/EnchantmentHelper.java
@@ -365,7 +365,7 @@
         {
             Enchantment var7 = var4[var6];
 
-            if (var7 != null && var7.type.canEnchantItem(var2))
+            if (var7 != null && var7.canEnchantItem(par1ItemStack))
             {
                 for (int var8 = var7.getMinLevel(); var8 <= var7.getMaxLevel(); ++var8)
                 {
