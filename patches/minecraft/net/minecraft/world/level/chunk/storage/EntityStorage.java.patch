--- a/net/minecraft/world/level/chunk/storage/EntityStorage.java
+++ b/net/minecraft/world/level/chunk/storage/EntityStorage.java
@@ -90,8 +_,12 @@
          ListTag listtag = new ListTag();
          p_156559_.m_156792_().forEach((p_156567_) -> {
             CompoundTag compoundtag1 = new CompoundTag();
+            try {
             if (p_156567_.m_20223_(compoundtag1)) {
                listtag.add(compoundtag1);
+            }
+            } catch (Exception e) {
+               LogManager.getLogger().error("An Entity type {} has thrown an exception trying to write state. It will not persist. Report this to the mod author", p_156567_.m_6095_(), e);
             }
 
          });
