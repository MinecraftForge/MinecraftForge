--- ../src-base/minecraft/net/minecraft/world/biome/BiomeGenHills.java
+++ ../src-work/minecraft/net/minecraft/world/biome/BiomeGenHills.java
@@ -48,16 +48,16 @@
         int l;
         int i1;
         int j1;
-
-        for (l = 0; l < k; ++l)
+        net.minecraftforge.event.terraingen.BiomeSpecificOreGenEvent event = net.minecraftforge.event.terraingen.TerrainGen.generateBiomeSpecificOre(p_76728_1_, p_76728_2_, p_76728_3_, p_76728_4_, Blocks.field_150412_bA);
+        for (l = 0; event.getResult() != cpw.mods.fml.common.eventhandler.Event.Result.DENY && l < k; ++l)
         {
             i1 = p_76728_3_ + p_76728_2_.nextInt(16);
             j1 = p_76728_2_.nextInt(28) + 4;
             int k1 = p_76728_4_ + p_76728_2_.nextInt(16);
 
-            if (p_76728_1_.func_147439_a(i1, j1, k1) == Blocks.field_150348_b)
+            if (p_76728_1_.func_147439_a(i1, j1, k1).isReplaceableOreGen(p_76728_1_, i1, j1, k1, Blocks.field_150348_b))
             {
-                p_76728_1_.func_147465_d(i1, j1, k1, Blocks.field_150412_bA, 0, 2);
+                p_76728_1_.func_147465_d(i1, j1, k1, event.block, 0, 2);
             }
         }
 
