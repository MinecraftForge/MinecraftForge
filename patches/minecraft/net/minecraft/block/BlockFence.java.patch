--- ../src_base/minecraft/net/minecraft/block/BlockFence.java
+++ ../src_work/minecraft/net/minecraft/block/BlockFence.java
@@ -133,11 +133,12 @@
     public boolean canConnectFenceTo(IBlockAccess par1IBlockAccess, int par2, int par3, int par4)
     {
         int var5 = par1IBlockAccess.getBlockId(par2, par3, par4);
+        int meta = par1IBlockAccess.getBlockMetadata(par2, par3, par4);
 
         if (var5 != this.blockID && var5 != Block.fenceGate.blockID)
         {
             Block var6 = Block.blocksList[var5];
-            return var6 != null && var6.blockMaterial.isOpaque() && var6.renderAsNormalBlock() ? var6.blockMaterial != Material.pumpkin : false;
+            return var6 != null && var6.getBlockMaterial(meta).isOpaque() && var6.renderAsNormalBlock() ? var6.getBlockMaterial(meta) != Material.pumpkin : false;
         }
         else
         {
