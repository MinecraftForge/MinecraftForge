--- a/net/minecraft/item/MerchantOffer.java
+++ b/net/minecraft/item/MerchantOffer.java
@@ -74,7 +74,7 @@
       int i = this.field_222223_a.func_190916_E();
       ItemStack itemstack = this.field_222223_a.func_77946_l();
       int j = Math.max(0, MathHelper.func_76141_d((float)(i * this.field_222230_h) * this.field_222231_i));
-      itemstack.func_190920_e(MathHelper.func_76125_a(i + j + this.field_222229_g, 1, this.field_222223_a.func_77973_b().func_77639_j()));
+      itemstack.func_190920_e(MathHelper.func_76125_a(i + j + this.field_222229_g, 1, this.field_222223_a.func_77976_d()));
       return itemstack;
    }
 
@@ -178,7 +178,7 @@
          return true;
       } else {
          ItemStack itemstack = p_222201_1_.func_77946_l();
-         if (itemstack.func_77973_b().func_77645_m()) {
+         if (itemstack.func_77973_b().isDamageable(itemstack)) {
             itemstack.func_196085_b(itemstack.func_77952_i());
          }
 
