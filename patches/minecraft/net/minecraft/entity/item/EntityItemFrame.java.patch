--- ../src-base/minecraft/net/minecraft/entity/item/EntityItemFrame.java
+++ ../src-work/minecraft/net/minecraft/entity/item/EntityItemFrame.java
@@ -141,7 +141,7 @@
     {
         if (p_110131_1_ != null)
         {
-            if (p_110131_1_.func_77973_b() == Items.field_151098_aY)
+            if (p_110131_1_.func_77973_b() instanceof net.minecraft.item.ItemMap)
             {
                 MapData mapdata = ((ItemMap)p_110131_1_.func_77973_b()).func_77873_a(p_110131_1_, this.field_70170_p);
                 mapdata.field_76203_h.remove("frame-" + this.func_145782_y());
@@ -278,6 +278,6 @@
 
     public int func_174866_q()
     {
-        return this.func_82335_i() == null ? 0 : this.func_82333_j() % 8 + 1;
+        return this.func_82335_i() == null ? 0 :(func_82335_i().func_77973_b().hasItemFrameOutput(field_70170_p,new BlockPos(field_70165_t,field_70163_u,field_70161_v),func_82335_i())?func_82335_i().func_77973_b().getItemFrameOutput(field_70170_p,new BlockPos(field_70165_t,field_70163_u,field_70161_v),func_82335_i(),func_82333_j()%8+1):this.func_82333_j() % 8 + 1);
     }
 }
