--- ../src_base/minecraft/net/minecraft/entity/monster/EntityMob.java
+++ ../src_work/minecraft/net/minecraft/entity/monster/EntityMob.java
@@ -11,6 +11,10 @@
 import net.minecraft.util.MathHelper;
 import net.minecraft.world.EnumSkyBlock;
 import net.minecraft.world.World;
+// CraftBukkit start
+import org.bukkit.event.entity.EntityTargetEvent;
+import net.minecraft.potion.Potion;
+// CraftBukkit end
 
 public abstract class EntityMob extends EntityCreature implements IMob
 {
@@ -77,7 +81,28 @@
             {
                 if (entity != this)
                 {
-                    this.entityToAttack = entity;
+                    // CraftBukkit start - We still need to call events for entities without goals
+                    if (entity != this.entityToAttack && (this instanceof EntityBlaze || this instanceof EntityEnderman || this instanceof EntitySpider || this instanceof EntityGiantZombie || this instanceof EntitySilverfish))
+                    {
+                        EntityTargetEvent event = org.bukkit.craftbukkit.event.CraftEventFactory.callEntityTargetEvent(this, entity, EntityTargetEvent.TargetReason.TARGET_ATTACKED_ENTITY);
+
+                        if (!event.isCancelled())
+                        {
+                            if (event.getTarget() == null)
+                            {
+                                this.entityToAttack = null;
+                            }
+                            else
+                            {
+                                this.entityToAttack = ((org.bukkit.craftbukkit.entity.CraftEntity) event.getTarget()).getHandle();
+                            }
+                        }
+                    }
+                    else
+                    {
+                        this.entityToAttack = entity;
+                    }
+                    // CraftBukkit end
                 }
 
                 return true;
@@ -95,7 +120,7 @@
 
     public boolean attackEntityAsMob(Entity par1Entity)
     {
-        float f = (float)this.func_110148_a(SharedMonsterAttributes.field_111264_e).func_111126_e();
+        float f = (float)this.getEntityAttribute(SharedMonsterAttributes.attackDamage).getAttributeValue();
         int i = 0;
 
         if (par1Entity instanceof EntityLivingBase)
@@ -189,9 +214,9 @@
         return this.worldObj.difficultySetting > 0 && this.isValidLightLevel() && super.getCanSpawnHere();
     }
 
-    protected void func_110147_ax()
-    {
-        super.func_110147_ax();
-        this.func_110140_aT().func_111150_b(SharedMonsterAttributes.field_111264_e);
+    protected void applyEntityAttributes()
+    {
+        super.applyEntityAttributes();
+        this.getAttributeMap().func_111150_b(SharedMonsterAttributes.attackDamage);
     }
 }
