--- a/net/minecraft/resources/RegistryDataLoader.java
+++ b/net/minecraft/resources/RegistryDataLoader.java
@@ -119,7 +_,7 @@
    }
 
    private static String m_246502_(ResourceLocation p_252033_) {
-      return p_252033_.m_135815_();
+      return net.minecraftforge.common.ForgeHooks.prefixNamespace(p_252033_); // FORGE: add non-vanilla registry namespace to loader directory, same format as tag directory (see net.minecraft.tags.TagManager#getTagDir(ResourceKey))
    }
 
    static <E> void m_255048_(RegistryOps.RegistryInfoLookup p_256369_, ResourceManager p_256349_, ResourceKey<? extends Registry<E>> p_255792_, WritableRegistry<E> p_256211_, Decoder<E> p_256232_, Map<ResourceKey<?>, Exception> p_255884_) {
@@ -135,6 +_,8 @@
          try {
             try (Reader reader = resource.m_215508_()) {
                JsonElement jsonelement = JsonParser.parseReader(reader);
+               if (!net.minecraftforge.common.crafting.conditions.ICondition.shouldRegisterEntry(jsonelement, resource, resourcekey))
+                  continue; // Forge: Skip loading an entry if it is disabled by a condition
                DataResult<E> dataresult = p_256232_.parse(registryops, jsonelement);
                E e = dataresult.getOrThrow(false, (p_248715_) -> {
                });
