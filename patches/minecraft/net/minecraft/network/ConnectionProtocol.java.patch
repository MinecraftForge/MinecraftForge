--- a/net/minecraft/network/ConnectionProtocol.java
+++ b/net/minecraft/network/ConnectionProtocol.java
@@ -211,11 +_,231 @@
 import org.slf4j.Logger;
 
 public enum ConnectionProtocol {
-   HANDSHAKING("handshake", protocol().addFlow(PacketFlow.CLIENTBOUND, new ConnectionProtocol.PacketSet()).addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerHandshakePacketListener>()).addPacket(ClientIntentionPacket.class, ClientIntentionPacket::new))),
-   PLAY("play", protocol().addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<ClientGamePacketListener>()).withBundlePacket(ClientboundBundlePacket.class, ClientboundBundlePacket::new).addPacket(ClientboundAddEntityPacket.class, ClientboundAddEntityPacket::new).addPacket(ClientboundAddExperienceOrbPacket.class, ClientboundAddExperienceOrbPacket::new).addPacket(ClientboundAnimatePacket.class, ClientboundAnimatePacket::new).addPacket(ClientboundAwardStatsPacket.class, ClientboundAwardStatsPacket::new).addPacket(ClientboundBlockChangedAckPacket.class, ClientboundBlockChangedAckPacket::new).addPacket(ClientboundBlockDestructionPacket.class, ClientboundBlockDestructionPacket::new).addPacket(ClientboundBlockEntityDataPacket.class, ClientboundBlockEntityDataPacket::new).addPacket(ClientboundBlockEventPacket.class, ClientboundBlockEventPacket::new).addPacket(ClientboundBlockUpdatePacket.class, ClientboundBlockUpdatePacket::new).addPacket(ClientboundBossEventPacket.class, ClientboundBossEventPacket::new).addPacket(ClientboundChangeDifficultyPacket.class, ClientboundChangeDifficultyPacket::new).addPacket(ClientboundChunkBatchFinishedPacket.class, ClientboundChunkBatchFinishedPacket::new).addPacket(ClientboundChunkBatchStartPacket.class, ClientboundChunkBatchStartPacket::new).addPacket(ClientboundChunksBiomesPacket.class, ClientboundChunksBiomesPacket::new).addPacket(ClientboundClearTitlesPacket.class, ClientboundClearTitlesPacket::new).addPacket(ClientboundCommandSuggestionsPacket.class, ClientboundCommandSuggestionsPacket::new).addPacket(ClientboundCommandsPacket.class, ClientboundCommandsPacket::new).addPacket(ClientboundContainerClosePacket.class, ClientboundContainerClosePacket::new).addPacket(ClientboundContainerSetContentPacket.class, ClientboundContainerSetContentPacket::new).addPacket(ClientboundContainerSetDataPacket.class, ClientboundContainerSetDataPacket::new).addPacket(ClientboundContainerSetSlotPacket.class, ClientboundContainerSetSlotPacket::new).addPacket(ClientboundCooldownPacket.class, ClientboundCooldownPacket::new).addPacket(ClientboundCustomChatCompletionsPacket.class, ClientboundCustomChatCompletionsPacket::new).addPacket(ClientboundCustomPayloadPacket.class, ClientboundCustomPayloadPacket::new).addPacket(ClientboundDamageEventPacket.class, ClientboundDamageEventPacket::new).addPacket(ClientboundDeleteChatPacket.class, ClientboundDeleteChatPacket::new).addPacket(ClientboundDisconnectPacket.class, ClientboundDisconnectPacket::new).addPacket(ClientboundDisguisedChatPacket.class, ClientboundDisguisedChatPacket::new).addPacket(ClientboundEntityEventPacket.class, ClientboundEntityEventPacket::new).addPacket(ClientboundExplodePacket.class, ClientboundExplodePacket::new).addPacket(ClientboundForgetLevelChunkPacket.class, ClientboundForgetLevelChunkPacket::new).addPacket(ClientboundGameEventPacket.class, ClientboundGameEventPacket::new).addPacket(ClientboundHorseScreenOpenPacket.class, ClientboundHorseScreenOpenPacket::new).addPacket(ClientboundHurtAnimationPacket.class, ClientboundHurtAnimationPacket::new).addPacket(ClientboundInitializeBorderPacket.class, ClientboundInitializeBorderPacket::new).addPacket(ClientboundKeepAlivePacket.class, ClientboundKeepAlivePacket::new).addPacket(ClientboundLevelChunkWithLightPacket.class, ClientboundLevelChunkWithLightPacket::new).addPacket(ClientboundLevelEventPacket.class, ClientboundLevelEventPacket::new).addPacket(ClientboundLevelParticlesPacket.class, ClientboundLevelParticlesPacket::new).addPacket(ClientboundLightUpdatePacket.class, ClientboundLightUpdatePacket::new).addPacket(ClientboundLoginPacket.class, ClientboundLoginPacket::new).addPacket(ClientboundMapItemDataPacket.class, ClientboundMapItemDataPacket::new).addPacket(ClientboundMerchantOffersPacket.class, ClientboundMerchantOffersPacket::new).addPacket(ClientboundMoveEntityPacket.Pos.class, ClientboundMoveEntityPacket.Pos::read).addPacket(ClientboundMoveEntityPacket.PosRot.class, ClientboundMoveEntityPacket.PosRot::read).addPacket(ClientboundMoveEntityPacket.Rot.class, ClientboundMoveEntityPacket.Rot::read).addPacket(ClientboundMoveVehiclePacket.class, ClientboundMoveVehiclePacket::new).addPacket(ClientboundOpenBookPacket.class, ClientboundOpenBookPacket::new).addPacket(ClientboundOpenScreenPacket.class, ClientboundOpenScreenPacket::new).addPacket(ClientboundOpenSignEditorPacket.class, ClientboundOpenSignEditorPacket::new).addPacket(ClientboundPingPacket.class, ClientboundPingPacket::new).addPacket(ClientboundPongResponsePacket.class, ClientboundPongResponsePacket::new).addPacket(ClientboundPlaceGhostRecipePacket.class, ClientboundPlaceGhostRecipePacket::new).addPacket(ClientboundPlayerAbilitiesPacket.class, ClientboundPlayerAbilitiesPacket::new).addPacket(ClientboundPlayerChatPacket.class, ClientboundPlayerChatPacket::new).addPacket(ClientboundPlayerCombatEndPacket.class, ClientboundPlayerCombatEndPacket::new).addPacket(ClientboundPlayerCombatEnterPacket.class, ClientboundPlayerCombatEnterPacket::new).addPacket(ClientboundPlayerCombatKillPacket.class, ClientboundPlayerCombatKillPacket::new).addPacket(ClientboundPlayerInfoRemovePacket.class, ClientboundPlayerInfoRemovePacket::new).addPacket(ClientboundPlayerInfoUpdatePacket.class, ClientboundPlayerInfoUpdatePacket::new).addPacket(ClientboundPlayerLookAtPacket.class, ClientboundPlayerLookAtPacket::new).addPacket(ClientboundPlayerPositionPacket.class, ClientboundPlayerPositionPacket::new).addPacket(ClientboundRecipePacket.class, ClientboundRecipePacket::new).addPacket(ClientboundRemoveEntitiesPacket.class, ClientboundRemoveEntitiesPacket::new).addPacket(ClientboundRemoveMobEffectPacket.class, ClientboundRemoveMobEffectPacket::new).addPacket(ClientboundResourcePackPacket.class, ClientboundResourcePackPacket::new).addPacket(ClientboundRespawnPacket.class, ClientboundRespawnPacket::new).addPacket(ClientboundRotateHeadPacket.class, ClientboundRotateHeadPacket::new).addPacket(ClientboundSectionBlocksUpdatePacket.class, ClientboundSectionBlocksUpdatePacket::new).addPacket(ClientboundSelectAdvancementsTabPacket.class, ClientboundSelectAdvancementsTabPacket::new).addPacket(ClientboundServerDataPacket.class, ClientboundServerDataPacket::new).addPacket(ClientboundSetActionBarTextPacket.class, ClientboundSetActionBarTextPacket::new).addPacket(ClientboundSetBorderCenterPacket.class, ClientboundSetBorderCenterPacket::new).addPacket(ClientboundSetBorderLerpSizePacket.class, ClientboundSetBorderLerpSizePacket::new).addPacket(ClientboundSetBorderSizePacket.class, ClientboundSetBorderSizePacket::new).addPacket(ClientboundSetBorderWarningDelayPacket.class, ClientboundSetBorderWarningDelayPacket::new).addPacket(ClientboundSetBorderWarningDistancePacket.class, ClientboundSetBorderWarningDistancePacket::new).addPacket(ClientboundSetCameraPacket.class, ClientboundSetCameraPacket::new).addPacket(ClientboundSetCarriedItemPacket.class, ClientboundSetCarriedItemPacket::new).addPacket(ClientboundSetChunkCacheCenterPacket.class, ClientboundSetChunkCacheCenterPacket::new).addPacket(ClientboundSetChunkCacheRadiusPacket.class, ClientboundSetChunkCacheRadiusPacket::new).addPacket(ClientboundSetDefaultSpawnPositionPacket.class, ClientboundSetDefaultSpawnPositionPacket::new).addPacket(ClientboundSetDisplayObjectivePacket.class, ClientboundSetDisplayObjectivePacket::new).addPacket(ClientboundSetEntityDataPacket.class, ClientboundSetEntityDataPacket::new).addPacket(ClientboundSetEntityLinkPacket.class, ClientboundSetEntityLinkPacket::new).addPacket(ClientboundSetEntityMotionPacket.class, ClientboundSetEntityMotionPacket::new).addPacket(ClientboundSetEquipmentPacket.class, ClientboundSetEquipmentPacket::new).addPacket(ClientboundSetExperiencePacket.class, ClientboundSetExperiencePacket::new).addPacket(ClientboundSetHealthPacket.class, ClientboundSetHealthPacket::new).addPacket(ClientboundSetObjectivePacket.class, ClientboundSetObjectivePacket::new).addPacket(ClientboundSetPassengersPacket.class, ClientboundSetPassengersPacket::new).addPacket(ClientboundSetPlayerTeamPacket.class, ClientboundSetPlayerTeamPacket::new).addPacket(ClientboundSetScorePacket.class, ClientboundSetScorePacket::new).addPacket(ClientboundSetSimulationDistancePacket.class, ClientboundSetSimulationDistancePacket::new).addPacket(ClientboundSetSubtitleTextPacket.class, ClientboundSetSubtitleTextPacket::new).addPacket(ClientboundSetTimePacket.class, ClientboundSetTimePacket::new).addPacket(ClientboundSetTitleTextPacket.class, ClientboundSetTitleTextPacket::new).addPacket(ClientboundSetTitlesAnimationPacket.class, ClientboundSetTitlesAnimationPacket::new).addPacket(ClientboundSoundEntityPacket.class, ClientboundSoundEntityPacket::new).addPacket(ClientboundSoundPacket.class, ClientboundSoundPacket::new).addPacket(ClientboundStartConfigurationPacket.class, ClientboundStartConfigurationPacket::new).addPacket(ClientboundStopSoundPacket.class, ClientboundStopSoundPacket::new).addPacket(ClientboundSystemChatPacket.class, ClientboundSystemChatPacket::new).addPacket(ClientboundTabListPacket.class, ClientboundTabListPacket::new).addPacket(ClientboundTagQueryPacket.class, ClientboundTagQueryPacket::new).addPacket(ClientboundTakeItemEntityPacket.class, ClientboundTakeItemEntityPacket::new).addPacket(ClientboundTeleportEntityPacket.class, ClientboundTeleportEntityPacket::new).addPacket(ClientboundUpdateAdvancementsPacket.class, ClientboundUpdateAdvancementsPacket::new).addPacket(ClientboundUpdateAttributesPacket.class, ClientboundUpdateAttributesPacket::new).addPacket(ClientboundUpdateMobEffectPacket.class, ClientboundUpdateMobEffectPacket::new).addPacket(ClientboundUpdateRecipesPacket.class, ClientboundUpdateRecipesPacket::new).addPacket(ClientboundUpdateTagsPacket.class, ClientboundUpdateTagsPacket::new)).addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerGamePacketListener>()).addPacket(ServerboundAcceptTeleportationPacket.class, ServerboundAcceptTeleportationPacket::new).addPacket(ServerboundBlockEntityTagQuery.class, ServerboundBlockEntityTagQuery::new).addPacket(ServerboundChangeDifficultyPacket.class, ServerboundChangeDifficultyPacket::new).addPacket(ServerboundChatAckPacket.class, ServerboundChatAckPacket::new).addPacket(ServerboundChatCommandPacket.class, ServerboundChatCommandPacket::new).addPacket(ServerboundChatPacket.class, ServerboundChatPacket::new).addPacket(ServerboundChatSessionUpdatePacket.class, ServerboundChatSessionUpdatePacket::new).addPacket(ServerboundChunkBatchReceivedPacket.class, ServerboundChunkBatchReceivedPacket::new).addPacket(ServerboundClientCommandPacket.class, ServerboundClientCommandPacket::new).addPacket(ServerboundClientInformationPacket.class, ServerboundClientInformationPacket::new).addPacket(ServerboundCommandSuggestionPacket.class, ServerboundCommandSuggestionPacket::new).addPacket(ServerboundConfigurationAcknowledgedPacket.class, ServerboundConfigurationAcknowledgedPacket::new).addPacket(ServerboundContainerButtonClickPacket.class, ServerboundContainerButtonClickPacket::new).addPacket(ServerboundContainerClickPacket.class, ServerboundContainerClickPacket::new).addPacket(ServerboundContainerClosePacket.class, ServerboundContainerClosePacket::new).addPacket(ServerboundCustomPayloadPacket.class, ServerboundCustomPayloadPacket::new).addPacket(ServerboundEditBookPacket.class, ServerboundEditBookPacket::new).addPacket(ServerboundEntityTagQuery.class, ServerboundEntityTagQuery::new).addPacket(ServerboundInteractPacket.class, ServerboundInteractPacket::new).addPacket(ServerboundJigsawGeneratePacket.class, ServerboundJigsawGeneratePacket::new).addPacket(ServerboundKeepAlivePacket.class, ServerboundKeepAlivePacket::new).addPacket(ServerboundLockDifficultyPacket.class, ServerboundLockDifficultyPacket::new).addPacket(ServerboundMovePlayerPacket.Pos.class, ServerboundMovePlayerPacket.Pos::read).addPacket(ServerboundMovePlayerPacket.PosRot.class, ServerboundMovePlayerPacket.PosRot::read).addPacket(ServerboundMovePlayerPacket.Rot.class, ServerboundMovePlayerPacket.Rot::read).addPacket(ServerboundMovePlayerPacket.StatusOnly.class, ServerboundMovePlayerPacket.StatusOnly::read).addPacket(ServerboundMoveVehiclePacket.class, ServerboundMoveVehiclePacket::new).addPacket(ServerboundPaddleBoatPacket.class, ServerboundPaddleBoatPacket::new).addPacket(ServerboundPickItemPacket.class, ServerboundPickItemPacket::new).addPacket(ServerboundPingRequestPacket.class, ServerboundPingRequestPacket::new).addPacket(ServerboundPlaceRecipePacket.class, ServerboundPlaceRecipePacket::new).addPacket(ServerboundPlayerAbilitiesPacket.class, ServerboundPlayerAbilitiesPacket::new).addPacket(ServerboundPlayerActionPacket.class, ServerboundPlayerActionPacket::new).addPacket(ServerboundPlayerCommandPacket.class, ServerboundPlayerCommandPacket::new).addPacket(ServerboundPlayerInputPacket.class, ServerboundPlayerInputPacket::new).addPacket(ServerboundPongPacket.class, ServerboundPongPacket::new).addPacket(ServerboundRecipeBookChangeSettingsPacket.class, ServerboundRecipeBookChangeSettingsPacket::new).addPacket(ServerboundRecipeBookSeenRecipePacket.class, ServerboundRecipeBookSeenRecipePacket::new).addPacket(ServerboundRenameItemPacket.class, ServerboundRenameItemPacket::new).addPacket(ServerboundResourcePackPacket.class, ServerboundResourcePackPacket::new).addPacket(ServerboundSeenAdvancementsPacket.class, ServerboundSeenAdvancementsPacket::new).addPacket(ServerboundSelectTradePacket.class, ServerboundSelectTradePacket::new).addPacket(ServerboundSetBeaconPacket.class, ServerboundSetBeaconPacket::new).addPacket(ServerboundSetCarriedItemPacket.class, ServerboundSetCarriedItemPacket::new).addPacket(ServerboundSetCommandBlockPacket.class, ServerboundSetCommandBlockPacket::new).addPacket(ServerboundSetCommandMinecartPacket.class, ServerboundSetCommandMinecartPacket::new).addPacket(ServerboundSetCreativeModeSlotPacket.class, ServerboundSetCreativeModeSlotPacket::new).addPacket(ServerboundSetJigsawBlockPacket.class, ServerboundSetJigsawBlockPacket::new).addPacket(ServerboundSetStructureBlockPacket.class, ServerboundSetStructureBlockPacket::new).addPacket(ServerboundSignUpdatePacket.class, ServerboundSignUpdatePacket::new).addPacket(ServerboundSwingPacket.class, ServerboundSwingPacket::new).addPacket(ServerboundTeleportToEntityPacket.class, ServerboundTeleportToEntityPacket::new).addPacket(ServerboundUseItemOnPacket.class, ServerboundUseItemOnPacket::new).addPacket(ServerboundUseItemPacket.class, ServerboundUseItemPacket::new))),
-   STATUS("status", protocol().addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerStatusPacketListener>()).addPacket(ServerboundStatusRequestPacket.class, ServerboundStatusRequestPacket::new).addPacket(ServerboundPingRequestPacket.class, ServerboundPingRequestPacket::new)).addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<ClientStatusPacketListener>()).addPacket(ClientboundStatusResponsePacket.class, ClientboundStatusResponsePacket::new).addPacket(ClientboundPongResponsePacket.class, ClientboundPongResponsePacket::new))),
-   LOGIN("login", protocol().addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<ClientLoginPacketListener>()).addPacket(ClientboundLoginDisconnectPacket.class, ClientboundLoginDisconnectPacket::new).addPacket(ClientboundHelloPacket.class, ClientboundHelloPacket::new).addPacket(ClientboundGameProfilePacket.class, ClientboundGameProfilePacket::new).addPacket(ClientboundLoginCompressionPacket.class, ClientboundLoginCompressionPacket::new).addPacket(ClientboundCustomQueryPacket.class, ClientboundCustomQueryPacket::new)).addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerLoginPacketListener>()).addPacket(ServerboundHelloPacket.class, ServerboundHelloPacket::new).addPacket(ServerboundKeyPacket.class, ServerboundKeyPacket::new).addPacket(ServerboundCustomQueryAnswerPacket.class, ServerboundCustomQueryAnswerPacket::read).addPacket(ServerboundLoginAcknowledgedPacket.class, ServerboundLoginAcknowledgedPacket::new))),
-   CONFIGURATION("configuration", protocol().addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<net.minecraft.network.protocol.configuration.ClientConfigurationPacketListener>()).addPacket(ClientboundCustomPayloadPacket.class, ClientboundCustomPayloadPacket::new).addPacket(ClientboundDisconnectPacket.class, ClientboundDisconnectPacket::new).addPacket(ClientboundFinishConfigurationPacket.class, ClientboundFinishConfigurationPacket::new).addPacket(ClientboundKeepAlivePacket.class, ClientboundKeepAlivePacket::new).addPacket(ClientboundPingPacket.class, ClientboundPingPacket::new).addPacket(ClientboundRegistryDataPacket.class, ClientboundRegistryDataPacket::new).addPacket(ClientboundResourcePackPacket.class, ClientboundResourcePackPacket::new).addPacket(ClientboundUpdateEnabledFeaturesPacket.class, ClientboundUpdateEnabledFeaturesPacket::new).addPacket(ClientboundUpdateTagsPacket.class, ClientboundUpdateTagsPacket::new)).addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<net.minecraft.network.protocol.configuration.ServerConfigurationPacketListener>()).addPacket(ServerboundClientInformationPacket.class, ServerboundClientInformationPacket::new).addPacket(ServerboundCustomPayloadPacket.class, ServerboundCustomPayloadPacket::new).addPacket(ServerboundFinishConfigurationPacket.class, ServerboundFinishConfigurationPacket::new).addPacket(ServerboundKeepAlivePacket.class, ServerboundKeepAlivePacket::new).addPacket(ServerboundPongPacket.class, ServerboundPongPacket::new).addPacket(ServerboundResourcePackPacket.class, ServerboundResourcePackPacket::new)));
+   HANDSHAKING("handshake", protocol()
+       .addFlow(PacketFlow.CLIENTBOUND, new ConnectionProtocol.PacketSet<>())
+       .addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerHandshakePacketListener>())
+            .addPacket(ClientIntentionPacket.class, ClientIntentionPacket::new)
+       )
+   ),
+   PLAY("play", protocol()
+       .addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<ClientGamePacketListener>())
+            .withBundlePacket(ClientboundBundlePacket.class, ClientboundBundlePacket::new)
+            .addPacket(ClientboundAddEntityPacket.class, ClientboundAddEntityPacket::new)
+            .addPacket(ClientboundAddExperienceOrbPacket.class, ClientboundAddExperienceOrbPacket::new)
+            .addPacket(ClientboundAnimatePacket.class, ClientboundAnimatePacket::new)
+            .addPacket(ClientboundAwardStatsPacket.class, ClientboundAwardStatsPacket::new)
+            .addPacket(ClientboundBlockChangedAckPacket.class, ClientboundBlockChangedAckPacket::new)
+            .addPacket(ClientboundBlockDestructionPacket.class, ClientboundBlockDestructionPacket::new)
+            .addPacket(ClientboundBlockEntityDataPacket.class, ClientboundBlockEntityDataPacket::new)
+            .addPacket(ClientboundBlockEventPacket.class, ClientboundBlockEventPacket::new)
+            .addPacket(ClientboundBlockUpdatePacket.class, ClientboundBlockUpdatePacket::new)
+            .addPacket(ClientboundBossEventPacket.class, ClientboundBossEventPacket::new)
+            .addPacket(ClientboundChangeDifficultyPacket.class, ClientboundChangeDifficultyPacket::new)
+            .addPacket(ClientboundChunkBatchFinishedPacket.class, ClientboundChunkBatchFinishedPacket::new)
+            .addPacket(ClientboundChunkBatchStartPacket.class, ClientboundChunkBatchStartPacket::new)
+            .addPacket(ClientboundChunksBiomesPacket.class, ClientboundChunksBiomesPacket::new)
+            .addPacket(ClientboundClearTitlesPacket.class, ClientboundClearTitlesPacket::new)
+            .addPacket(ClientboundCommandSuggestionsPacket.class, ClientboundCommandSuggestionsPacket::new)
+            .addPacket(ClientboundCommandsPacket.class, ClientboundCommandsPacket::new)
+            .addPacket(ClientboundContainerClosePacket.class, ClientboundContainerClosePacket::new)
+            .addPacket(ClientboundContainerSetContentPacket.class, ClientboundContainerSetContentPacket::new)
+            .addPacket(ClientboundContainerSetDataPacket.class, ClientboundContainerSetDataPacket::new)
+            .addPacket(ClientboundContainerSetSlotPacket.class, ClientboundContainerSetSlotPacket::new)
+            .addPacket(ClientboundCooldownPacket.class, ClientboundCooldownPacket::new)
+            .addPacket(ClientboundCustomChatCompletionsPacket.class, ClientboundCustomChatCompletionsPacket::new)
+            .addPacket(ClientboundCustomPayloadPacket.class, ClientboundCustomPayloadPacket::new)
+            .addPacket(ClientboundDamageEventPacket.class, ClientboundDamageEventPacket::new)
+            .addPacket(ClientboundDeleteChatPacket.class, ClientboundDeleteChatPacket::new)
+            .addPacket(ClientboundDisconnectPacket.class, ClientboundDisconnectPacket::new)
+            .addPacket(ClientboundDisguisedChatPacket.class, ClientboundDisguisedChatPacket::new)
+            .addPacket(ClientboundEntityEventPacket.class, ClientboundEntityEventPacket::new)
+            .addPacket(ClientboundExplodePacket.class, ClientboundExplodePacket::new)
+            .addPacket(ClientboundForgetLevelChunkPacket.class, ClientboundForgetLevelChunkPacket::new)
+            .addPacket(ClientboundGameEventPacket.class, ClientboundGameEventPacket::new)
+            .addPacket(ClientboundHorseScreenOpenPacket.class, ClientboundHorseScreenOpenPacket::new)
+            .addPacket(ClientboundHurtAnimationPacket.class, ClientboundHurtAnimationPacket::new)
+            .addPacket(ClientboundInitializeBorderPacket.class, ClientboundInitializeBorderPacket::new)
+            .addPacket(ClientboundKeepAlivePacket.class, ClientboundKeepAlivePacket::new)
+            .addPacket(ClientboundLevelChunkWithLightPacket.class, ClientboundLevelChunkWithLightPacket::new)
+            .addPacket(ClientboundLevelEventPacket.class, ClientboundLevelEventPacket::new)
+            .addPacket(ClientboundLevelParticlesPacket.class, ClientboundLevelParticlesPacket::new)
+            .addPacket(ClientboundLightUpdatePacket.class, ClientboundLightUpdatePacket::new)
+            .addPacket(ClientboundLoginPacket.class, ClientboundLoginPacket::new)
+            .addPacket(ClientboundMapItemDataPacket.class, ClientboundMapItemDataPacket::new)
+            .addPacket(ClientboundMerchantOffersPacket.class, ClientboundMerchantOffersPacket::new)
+            .addPacket(ClientboundMoveEntityPacket.Pos.class, ClientboundMoveEntityPacket.Pos::read)
+            .addPacket(ClientboundMoveEntityPacket.PosRot.class, ClientboundMoveEntityPacket.PosRot::read)
+            .addPacket(ClientboundMoveEntityPacket.Rot.class, ClientboundMoveEntityPacket.Rot::read)
+            .addPacket(ClientboundMoveVehiclePacket.class, ClientboundMoveVehiclePacket::new)
+            .addPacket(ClientboundOpenBookPacket.class, ClientboundOpenBookPacket::new)
+            .addPacket(ClientboundOpenScreenPacket.class, ClientboundOpenScreenPacket::new)
+            .addPacket(ClientboundOpenSignEditorPacket.class, ClientboundOpenSignEditorPacket::new)
+            .addPacket(ClientboundPingPacket.class, ClientboundPingPacket::new)
+            .addPacket(ClientboundPongResponsePacket.class, ClientboundPongResponsePacket::new)
+            .addPacket(ClientboundPlaceGhostRecipePacket.class, ClientboundPlaceGhostRecipePacket::new)
+            .addPacket(ClientboundPlayerAbilitiesPacket.class, ClientboundPlayerAbilitiesPacket::new)
+            .addPacket(ClientboundPlayerChatPacket.class, ClientboundPlayerChatPacket::new)
+            .addPacket(ClientboundPlayerCombatEndPacket.class, ClientboundPlayerCombatEndPacket::new)
+            .addPacket(ClientboundPlayerCombatEnterPacket.class, ClientboundPlayerCombatEnterPacket::new)
+            .addPacket(ClientboundPlayerCombatKillPacket.class, ClientboundPlayerCombatKillPacket::new)
+            .addPacket(ClientboundPlayerInfoRemovePacket.class, ClientboundPlayerInfoRemovePacket::new)
+            .addPacket(ClientboundPlayerInfoUpdatePacket.class, ClientboundPlayerInfoUpdatePacket::new)
+            .addPacket(ClientboundPlayerLookAtPacket.class, ClientboundPlayerLookAtPacket::new)
+            .addPacket(ClientboundPlayerPositionPacket.class, ClientboundPlayerPositionPacket::new)
+            .addPacket(ClientboundRecipePacket.class, ClientboundRecipePacket::new)
+            .addPacket(ClientboundRemoveEntitiesPacket.class, ClientboundRemoveEntitiesPacket::new)
+            .addPacket(ClientboundRemoveMobEffectPacket.class, ClientboundRemoveMobEffectPacket::new)
+            .addPacket(ClientboundResourcePackPacket.class, ClientboundResourcePackPacket::new)
+            .addPacket(ClientboundRespawnPacket.class, ClientboundRespawnPacket::new)
+            .addPacket(ClientboundRotateHeadPacket.class, ClientboundRotateHeadPacket::new)
+            .addPacket(ClientboundSectionBlocksUpdatePacket.class, ClientboundSectionBlocksUpdatePacket::new)
+            .addPacket(ClientboundSelectAdvancementsTabPacket.class, ClientboundSelectAdvancementsTabPacket::new)
+            .addPacket(ClientboundServerDataPacket.class, ClientboundServerDataPacket::new)
+            .addPacket(ClientboundSetActionBarTextPacket.class, ClientboundSetActionBarTextPacket::new)
+            .addPacket(ClientboundSetBorderCenterPacket.class, ClientboundSetBorderCenterPacket::new)
+            .addPacket(ClientboundSetBorderLerpSizePacket.class, ClientboundSetBorderLerpSizePacket::new)
+            .addPacket(ClientboundSetBorderSizePacket.class, ClientboundSetBorderSizePacket::new)
+            .addPacket(ClientboundSetBorderWarningDelayPacket.class, ClientboundSetBorderWarningDelayPacket::new)
+            .addPacket(ClientboundSetBorderWarningDistancePacket.class, ClientboundSetBorderWarningDistancePacket::new)
+            .addPacket(ClientboundSetCameraPacket.class, ClientboundSetCameraPacket::new)
+            .addPacket(ClientboundSetCarriedItemPacket.class, ClientboundSetCarriedItemPacket::new)
+            .addPacket(ClientboundSetChunkCacheCenterPacket.class, ClientboundSetChunkCacheCenterPacket::new)
+            .addPacket(ClientboundSetChunkCacheRadiusPacket.class, ClientboundSetChunkCacheRadiusPacket::new)
+            .addPacket(ClientboundSetDefaultSpawnPositionPacket.class, ClientboundSetDefaultSpawnPositionPacket::new)
+            .addPacket(ClientboundSetDisplayObjectivePacket.class, ClientboundSetDisplayObjectivePacket::new)
+            .addPacket(ClientboundSetEntityDataPacket.class, ClientboundSetEntityDataPacket::new)
+            .addPacket(ClientboundSetEntityLinkPacket.class, ClientboundSetEntityLinkPacket::new)
+            .addPacket(ClientboundSetEntityMotionPacket.class, ClientboundSetEntityMotionPacket::new)
+            .addPacket(ClientboundSetEquipmentPacket.class, ClientboundSetEquipmentPacket::new)
+            .addPacket(ClientboundSetExperiencePacket.class, ClientboundSetExperiencePacket::new)
+            .addPacket(ClientboundSetHealthPacket.class, ClientboundSetHealthPacket::new)
+            .addPacket(ClientboundSetObjectivePacket.class, ClientboundSetObjectivePacket::new)
+            .addPacket(ClientboundSetPassengersPacket.class, ClientboundSetPassengersPacket::new)
+            .addPacket(ClientboundSetPlayerTeamPacket.class, ClientboundSetPlayerTeamPacket::new)
+            .addPacket(ClientboundSetScorePacket.class, ClientboundSetScorePacket::new)
+            .addPacket(ClientboundSetSimulationDistancePacket.class, ClientboundSetSimulationDistancePacket::new)
+            .addPacket(ClientboundSetSubtitleTextPacket.class, ClientboundSetSubtitleTextPacket::new)
+            .addPacket(ClientboundSetTimePacket.class, ClientboundSetTimePacket::new)
+            .addPacket(ClientboundSetTitleTextPacket.class, ClientboundSetTitleTextPacket::new)
+            .addPacket(ClientboundSetTitlesAnimationPacket.class, ClientboundSetTitlesAnimationPacket::new)
+            .addPacket(ClientboundSoundEntityPacket.class, ClientboundSoundEntityPacket::new)
+            .addPacket(ClientboundSoundPacket.class, ClientboundSoundPacket::new)
+            .addPacket(ClientboundStartConfigurationPacket.class, ClientboundStartConfigurationPacket::new)
+            .addPacket(ClientboundStopSoundPacket.class, ClientboundStopSoundPacket::new)
+            .addPacket(ClientboundSystemChatPacket.class, ClientboundSystemChatPacket::new)
+            .addPacket(ClientboundTabListPacket.class, ClientboundTabListPacket::new)
+            .addPacket(ClientboundTagQueryPacket.class, ClientboundTagQueryPacket::new)
+            .addPacket(ClientboundTakeItemEntityPacket.class, ClientboundTakeItemEntityPacket::new)
+            .addPacket(ClientboundTeleportEntityPacket.class, ClientboundTeleportEntityPacket::new)
+            .addPacket(ClientboundUpdateAdvancementsPacket.class, ClientboundUpdateAdvancementsPacket::new)
+            .addPacket(ClientboundUpdateAttributesPacket.class, ClientboundUpdateAttributesPacket::new)
+            .addPacket(ClientboundUpdateMobEffectPacket.class, ClientboundUpdateMobEffectPacket::new)
+            .addPacket(ClientboundUpdateRecipesPacket.class, ClientboundUpdateRecipesPacket::new)
+            .addPacket(ClientboundUpdateTagsPacket.class, ClientboundUpdateTagsPacket::new)
+        )
+       .addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerGamePacketListener>())
+            .addPacket(ServerboundAcceptTeleportationPacket.class, ServerboundAcceptTeleportationPacket::new)
+            .addPacket(ServerboundBlockEntityTagQuery.class, ServerboundBlockEntityTagQuery::new)
+            .addPacket(ServerboundChangeDifficultyPacket.class, ServerboundChangeDifficultyPacket::new)
+            .addPacket(ServerboundChatAckPacket.class, ServerboundChatAckPacket::new)
+            .addPacket(ServerboundChatCommandPacket.class, ServerboundChatCommandPacket::new)
+            .addPacket(ServerboundChatPacket.class, ServerboundChatPacket::new)
+            .addPacket(ServerboundChatSessionUpdatePacket.class, ServerboundChatSessionUpdatePacket::new)
+            .addPacket(ServerboundChunkBatchReceivedPacket.class, ServerboundChunkBatchReceivedPacket::new)
+            .addPacket(ServerboundClientCommandPacket.class, ServerboundClientCommandPacket::new)
+            .addPacket(ServerboundClientInformationPacket.class, ServerboundClientInformationPacket::new)
+            .addPacket(ServerboundCommandSuggestionPacket.class, ServerboundCommandSuggestionPacket::new)
+            .addPacket(ServerboundConfigurationAcknowledgedPacket.class, ServerboundConfigurationAcknowledgedPacket::new)
+            .addPacket(ServerboundContainerButtonClickPacket.class, ServerboundContainerButtonClickPacket::new)
+            .addPacket(ServerboundContainerClickPacket.class, ServerboundContainerClickPacket::new)
+            .addPacket(ServerboundContainerClosePacket.class, ServerboundContainerClosePacket::new)
+            .addPacket(ServerboundCustomPayloadPacket.class, ServerboundCustomPayloadPacket::new)
+            .addPacket(ServerboundEditBookPacket.class, ServerboundEditBookPacket::new)
+            .addPacket(ServerboundEntityTagQuery.class, ServerboundEntityTagQuery::new)
+            .addPacket(ServerboundInteractPacket.class, ServerboundInteractPacket::new)
+            .addPacket(ServerboundJigsawGeneratePacket.class, ServerboundJigsawGeneratePacket::new)
+            .addPacket(ServerboundKeepAlivePacket.class, ServerboundKeepAlivePacket::new)
+            .addPacket(ServerboundLockDifficultyPacket.class, ServerboundLockDifficultyPacket::new)
+            .addPacket(ServerboundMovePlayerPacket.Pos.class, ServerboundMovePlayerPacket.Pos::read)
+            .addPacket(ServerboundMovePlayerPacket.PosRot.class, ServerboundMovePlayerPacket.PosRot::read)
+            .addPacket(ServerboundMovePlayerPacket.Rot.class, ServerboundMovePlayerPacket.Rot::read)
+            .addPacket(ServerboundMovePlayerPacket.StatusOnly.class, ServerboundMovePlayerPacket.StatusOnly::read)
+            .addPacket(ServerboundMoveVehiclePacket.class, ServerboundMoveVehiclePacket::new)
+            .addPacket(ServerboundPaddleBoatPacket.class, ServerboundPaddleBoatPacket::new)
+            .addPacket(ServerboundPickItemPacket.class, ServerboundPickItemPacket::new)
+            .addPacket(ServerboundPingRequestPacket.class, ServerboundPingRequestPacket::new)
+            .addPacket(ServerboundPlaceRecipePacket.class, ServerboundPlaceRecipePacket::new)
+            .addPacket(ServerboundPlayerAbilitiesPacket.class, ServerboundPlayerAbilitiesPacket::new)
+            .addPacket(ServerboundPlayerActionPacket.class, ServerboundPlayerActionPacket::new)
+            .addPacket(ServerboundPlayerCommandPacket.class, ServerboundPlayerCommandPacket::new)
+            .addPacket(ServerboundPlayerInputPacket.class, ServerboundPlayerInputPacket::new)
+            .addPacket(ServerboundPongPacket.class, ServerboundPongPacket::new)
+            .addPacket(ServerboundRecipeBookChangeSettingsPacket.class, ServerboundRecipeBookChangeSettingsPacket::new)
+            .addPacket(ServerboundRecipeBookSeenRecipePacket.class, ServerboundRecipeBookSeenRecipePacket::new)
+            .addPacket(ServerboundRenameItemPacket.class, ServerboundRenameItemPacket::new)
+            .addPacket(ServerboundResourcePackPacket.class, ServerboundResourcePackPacket::new)
+            .addPacket(ServerboundSeenAdvancementsPacket.class, ServerboundSeenAdvancementsPacket::new)
+            .addPacket(ServerboundSelectTradePacket.class, ServerboundSelectTradePacket::new)
+            .addPacket(ServerboundSetBeaconPacket.class, ServerboundSetBeaconPacket::new)
+            .addPacket(ServerboundSetCarriedItemPacket.class, ServerboundSetCarriedItemPacket::new)
+            .addPacket(ServerboundSetCommandBlockPacket.class, ServerboundSetCommandBlockPacket::new)
+            .addPacket(ServerboundSetCommandMinecartPacket.class, ServerboundSetCommandMinecartPacket::new)
+            .addPacket(ServerboundSetCreativeModeSlotPacket.class, ServerboundSetCreativeModeSlotPacket::new)
+            .addPacket(ServerboundSetJigsawBlockPacket.class, ServerboundSetJigsawBlockPacket::new)
+            .addPacket(ServerboundSetStructureBlockPacket.class, ServerboundSetStructureBlockPacket::new)
+            .addPacket(ServerboundSignUpdatePacket.class, ServerboundSignUpdatePacket::new)
+            .addPacket(ServerboundSwingPacket.class, ServerboundSwingPacket::new)
+            .addPacket(ServerboundTeleportToEntityPacket.class, ServerboundTeleportToEntityPacket::new)
+            .addPacket(ServerboundUseItemOnPacket.class, ServerboundUseItemOnPacket::new)
+            .addPacket(ServerboundUseItemPacket.class, ServerboundUseItemPacket::new)
+        )
+    ),
+    STATUS("status", protocol()
+        .addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerStatusPacketListener>())
+            .addPacket(ServerboundStatusRequestPacket.class, ServerboundStatusRequestPacket::new)
+            .addPacket(ServerboundPingRequestPacket.class, ServerboundPingRequestPacket::new)
+        )
+        .addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<ClientStatusPacketListener>())
+            .addPacket(ClientboundStatusResponsePacket.class, ClientboundStatusResponsePacket::new)
+            .addPacket(ClientboundPongResponsePacket.class, ClientboundPongResponsePacket::new)
+        )
+    ),
+    LOGIN("login", protocol()
+        .addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<ClientLoginPacketListener>())
+            .addPacket(ClientboundLoginDisconnectPacket.class, ClientboundLoginDisconnectPacket::new)
+            .addPacket(ClientboundHelloPacket.class, ClientboundHelloPacket::new)
+            .addPacket(ClientboundGameProfilePacket.class, ClientboundGameProfilePacket::new)
+            .addPacket(ClientboundLoginCompressionPacket.class, ClientboundLoginCompressionPacket::new)
+            .addPacket(ClientboundCustomQueryPacket.class, ClientboundCustomQueryPacket::new)
+        )
+        .addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<ServerLoginPacketListener>())
+            .addPacket(ServerboundHelloPacket.class, ServerboundHelloPacket::new)
+            .addPacket(ServerboundKeyPacket.class, ServerboundKeyPacket::new)
+            .addPacket(ServerboundCustomQueryAnswerPacket.class, ServerboundCustomQueryAnswerPacket::read)
+            .addPacket(ServerboundLoginAcknowledgedPacket.class, ServerboundLoginAcknowledgedPacket::new)
+        )
+    ),
+    CONFIGURATION("configuration", protocol()
+        .addFlow(PacketFlow.CLIENTBOUND, (new ConnectionProtocol.PacketSet<net.minecraft.network.protocol.configuration.ClientConfigurationPacketListener>())
+            .addPacket(ClientboundCustomPayloadPacket.class, ClientboundCustomPayloadPacket::new)
+            .addPacket(ClientboundDisconnectPacket.class, ClientboundDisconnectPacket::new)
+            .addPacket(ClientboundFinishConfigurationPacket.class, ClientboundFinishConfigurationPacket::new)
+            .addPacket(ClientboundKeepAlivePacket.class, ClientboundKeepAlivePacket::new)
+            .addPacket(ClientboundPingPacket.class, ClientboundPingPacket::new)
+            .addPacket(ClientboundRegistryDataPacket.class, ClientboundRegistryDataPacket::new)
+            .addPacket(ClientboundResourcePackPacket.class, ClientboundResourcePackPacket::new)
+            .addPacket(ClientboundUpdateEnabledFeaturesPacket.class, ClientboundUpdateEnabledFeaturesPacket::new)
+            .addPacket(ClientboundUpdateTagsPacket.class, ClientboundUpdateTagsPacket::new)
+        )
+        .addFlow(PacketFlow.SERVERBOUND, (new ConnectionProtocol.PacketSet<net.minecraft.network.protocol.configuration.ServerConfigurationPacketListener>())
+            .addPacket(ServerboundClientInformationPacket.class, ServerboundClientInformationPacket::new)
+            .addPacket(ServerboundCustomPayloadPacket.class, ServerboundCustomPayloadPacket::new)
+            .addPacket(ServerboundFinishConfigurationPacket.class, ServerboundFinishConfigurationPacket::new)
+            .addPacket(ServerboundKeepAlivePacket.class, ServerboundKeepAlivePacket::new)
+            .addPacket(ServerboundPongPacket.class, ServerboundPongPacket::new)
+            .addPacket(ServerboundResourcePackPacket.class, ServerboundResourcePackPacket::new)
+        )
+    );
 
    public static final int NOT_REGISTERED = -1;
    private final String id;
