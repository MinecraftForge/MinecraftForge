--- ../src_base/minecraft/net/minecraft/network/packet/Packet20NamedEntitySpawn.java
+++ ../src_work/minecraft/net/minecraft/network/packet/Packet20NamedEntitySpawn.java
@@ -10,6 +10,8 @@
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.item.ItemStack;
 import net.minecraft.util.MathHelper;
+
+import java.io.IOException; // CraftBukkit
 
 public class Packet20NamedEntitySpawn extends Packet
 {
@@ -44,6 +46,18 @@
     public Packet20NamedEntitySpawn(EntityPlayer par1EntityPlayer)
     {
         this.entityId = par1EntityPlayer.entityId;
+
+        // CraftBukkit start - Limit name length to 16 characters
+        if (par1EntityPlayer.username.length() > 16)
+        {
+            this.name = par1EntityPlayer.username.substring(0, 16);
+        }
+        else
+        {
+            this.name = par1EntityPlayer.username;
+        }
+
+        // CraftBukkit end
         this.name = par1EntityPlayer.getCommandSenderName();
         this.xPosition = MathHelper.floor_double(par1EntityPlayer.posX * 32.0D);
         this.yPosition = MathHelper.floor_double(par1EntityPlayer.posY * 32.0D);
@@ -58,7 +72,7 @@
     /**
      * Abstract. Reads the raw packet data from the data stream.
      */
-    public void readPacketData(DataInput par1DataInput) throws IOException
+    public void readPacketData(DataInput par1DataInput) throws IOException   // CraftBukkit
     {
         this.entityId = par1DataInput.readInt();
         this.name = readString(par1DataInput, 16);
@@ -74,7 +88,7 @@
     /**
      * Abstract. Writes the raw packet data to the data stream.
      */
-    public void writePacketData(DataOutput par1DataOutput) throws IOException
+    public void writePacketData(DataOutput par1DataOutput) throws IOException   // CraftBukkit
     {
         par1DataOutput.writeInt(this.entityId);
         writeString(this.name, par1DataOutput);
