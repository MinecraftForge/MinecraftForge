--- ../src-base/minecraft/net/minecraft/world/chunk/storage/ExtendedBlockStorage.java
+++ ../src-work/minecraft/net/minecraft/world/chunk/storage/ExtendedBlockStorage.java
@@ -34,6 +34,8 @@
 
     public void set(int x, int y, int z, IBlockState state)
     {
+        if (state instanceof net.minecraftforge.common.property.IExtendedBlockState)
+            state = ((net.minecraftforge.common.property.IExtendedBlockState) state).getClean();
         IBlockState iblockstate = this.get(x, y, z);
         Block block = iblockstate.getBlock();
         Block block1 = state.getBlock();
