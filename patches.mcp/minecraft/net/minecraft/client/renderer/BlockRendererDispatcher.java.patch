--- ../src-base/minecraft/net/minecraft/client/renderer/BlockRendererDispatcher.java
+++ ../src-work/minecraft/net/minecraft/client/renderer/BlockRendererDispatcher.java
@@ -24,7 +24,7 @@
 {
     private BlockModelShapes blockModelShapes;
     private final GameSettings gameSettings;
-    private final BlockModelRenderer blockModelRenderer = new BlockModelRenderer();
+    private final BlockModelRenderer blockModelRenderer = new net.minecraftforge.client.model.pipeline.ForgeBlockModelRenderer();
     private final ChestRenderer chestRenderer = new ChestRenderer();
     private final BlockFluidRenderer fluidRenderer = new BlockFluidRenderer();
     private static final String __OBFID = "CL_00002520";
@@ -49,6 +49,24 @@
         {
             p_175020_1_ = block.getActualState(p_175020_1_, p_175020_4_, p_175020_2_);
             IBakedModel ibakedmodel = this.blockModelShapes.getModelForState(p_175020_1_);
+
+            if(ibakedmodel instanceof net.minecraftforge.client.model.ISmartBlockModel)
+            {
+                IBlockState extendedState = block.getExtendedState(p_175020_1_, p_175020_4_, p_175020_2_);
+                for ( net.minecraft.util.EnumWorldBlockLayer layer : net.minecraft.util.EnumWorldBlockLayer.values() )
+                {
+                    if ( block.canRenderInLayer( layer ) )
+                    {
+                        net.minecraftforge.client.ForgeHooksClient.setRenderLayer(layer);
+
+                        IBakedModel targetLayer = ((net.minecraftforge.client.model.ISmartBlockModel)ibakedmodel).handleBlockState(extendedState);
+                        IBakedModel damageModel = (new SimpleBakedModel.Builder(targetLayer, p_175020_3_)).makeBakedModel();
+                        this.blockModelRenderer.renderModel(p_175020_4_, damageModel, p_175020_1_, p_175020_2_, Tessellator.getInstance().getWorldRenderer());
+                    }
+                }
+                return;
+            }
+
             IBakedModel ibakedmodel1 = (new SimpleBakedModel.Builder(ibakedmodel, p_175020_3_)).makeBakedModel();
             this.blockModelRenderer.renderModel(p_175020_4_, ibakedmodel1, p_175020_1_, p_175020_2_, Tessellator.getInstance().getWorldRenderer());
         }
@@ -129,6 +147,12 @@
             ibakedmodel = ((WeightedBakedModel)ibakedmodel).getAlternativeModel(MathHelper.getPositionRandom(p_175022_3_));
         }
 
+        if(ibakedmodel instanceof net.minecraftforge.client.model.ISmartBlockModel)
+        {
+            IBlockState extendedState = block.getExtendedState(p_175022_1_, p_175022_2_, p_175022_3_);
+            ibakedmodel = ((net.minecraftforge.client.model.ISmartBlockModel)ibakedmodel).handleBlockState(extendedState);
+        }
+
         return ibakedmodel;
     }
 
